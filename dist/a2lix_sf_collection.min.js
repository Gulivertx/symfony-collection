"use strict";const a2lix_lib={};a2lix_lib.sfCollection=(()=>{const t=(t={})=>{if(!("content"in document.createElement("template"))){console.error("HTML template will not working...");return}const{collectionsSelector:n="form div[data-prototype]",manageRemoveEntry:r=true,lang:a={add:"Add",remove:"Remove"},afterAdd:o=null,afterRemove:l=null}=t;const c=document.querySelectorAll(n);if(!c.length){return}c.forEach(t=>{e(t,r,a,o,l)})};const e=(t,e=false,o,l,c)=>{t.setAttribute("data-entry-index",t.children.length);n(t,o);if(e){r(t,o)}t.addEventListener("click",t=>a(t,e,o,l,c))};const n=(t,e)=>{const n=t.getAttribute("data-entry-add-label")||"",r=t.getAttribute("data-entry-add-class")||"btn btn-primary btn-sm mt-2";const a=c(`${e.add} ${n}`,"add",`${r}`);t.appendChild(a)};const r=(t,e)=>{const n=t.getAttribute("data-entry-remove-label")||"",r=t.getAttribute("data-entry-remove-class")||"btn btn-danger btn-sm";const a=c(`${e.remove} ${n}`,"remove",`${r}`);const o=[...t.children].filter(t=>!t.hasAttribute("data-entry-action")).forEach(t=>{t.appendChild(a.cloneNode(true))})};const a=(t,e,n,r,a)=>{if(!t.target.hasAttribute("data-entry-action")){return}switch(t.target.getAttribute("data-entry-action")){case"add":o(t.currentTarget,t.target,e,n,r);break;case"remove":l(t.currentTarget,t.target,a);break}};const o=(t,e,n,r,a)=>{const o=t.getAttribute("data-entry-index");t.setAttribute("data-entry-index",+o+1);const l=t.getAttribute("data-prototype"),d=i(l,o);if(n){const e=t.getAttribute("data-entry-remove-label")||"",n=t.getAttribute("data-entry-remove-class")||"btn btn-danger btn-sm",a=c(`${r.remove} ${e}`,"remove",`${n}`);d.firstChild.appendChild(a)}if(a!==null)a(t,d.firstChild);e.parentElement.insertBefore(d,e)};const l=(t,e,n)=>{e.parentElement.remove();if(n!==null)n(t,e.parentElement)};const c=(t,e,n="btn")=>{const r=document.createElement("button");r.type="button";r.textContent=t;r.className=n;r.dataset.entryAction=e;return r};const i=(t,e)=>{const n=document.createElement("template");const r=t.replace(/__name__label__/g,`!New! ${e}`).replace(/__name__/g,e);n.innerHTML=r.trim();return n.content};return{init:t}})();export default a2lix_lib;